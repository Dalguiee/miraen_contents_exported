<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>미래엔 중국어</title>
    <script src="./../common/lib/jquery-3.7.1.min.js"></script>
    <script src="./../common/lib/howler-2.1.3.min.js"></script>
    <!-- SUIT Variable 폰트 -->
    <link
      href="https://cdn.jsdelivr.net/gh/sun-typeface/SUIT@2/fonts/variable/woff2/SUIT-Variable.css"
      rel="stylesheet"
    />
    <link href="../common/css/comm.css" rel="stylesheet" />
    <link href="./css/6_01_19.css" rel="stylesheet" />
  </head>
  <body>
    <div id="wrap" class="china_wrap content_wrap">
      <div class="title_box">
        <div class="title">
          <span class="titleText suit"
            ><span class="index bmjua">2</span>그림에 알맞은 단어를 연결해
            봅시다.</span
          >
        </div>
      </div>

      <div class="btn_box dp_flex">
        <div class="bttns">
          <button class="btn popup_btn blue" data-index="3">해석</button>
          <!-- <div class="tempBttns">
            <button onclick="page.showAnswer(event)" data-index="1" class="tempBttn answer_btn">임시정답</button>
            <button onclick="page.hideAnswer(event)" data-index="1" class="tempBttn reset_btn" style="display: none">다시하기</button>
          </div> -->
        </div>
      </div>

      <div class="full_content">
        <div class="content">
          <div class="itemBox">
            <canvas class="conCanvas" width="1920" height="1200"></canvas>
            <div class="itemSec itemSec1">
              <div class="itemList itemList1">
                <img src="./images/6_01_19/flag1.png" alt="" />
                <div class="itemText">
                  <div class="ansBttns">
                    <button class="btn3 answer_btn" data-d-index="0">정답</button>
                    <button class="btn3 reset_btn" data-d-index="0" style="display: none">
                      다시 하기
                    </button>
                  </div>
                </div>
                <div
                  class="item item1"
                  data-val="0"
                  data-type="question"
                  data-locked="false"
                ></div>
              </div>
              <div class="itemList itemList2">
                <img src="./images/6_01_19/flag2.png" alt="" />
                <div class="itemText">
                  <div class="ansBttns">
                    <button class="btn3 answer_btn" data-d-index="1">정답</button>
                    <button class="btn3 reset_btn" data-d-index="1" style="display: none">
                      다시 하기
                    </button>
                  </div>
                </div>
                <div
                  class="item item2"
                  data-val="1"
                  data-type="question"
                  data-locked="false"
                ></div>
              </div>
              <div class="itemList itemList3">
                <img src="./images/6_01_19/flag3.png" alt="" />
                <div class="itemText">
                  <div class="ansBttns">
                    <button class="btn3 answer_btn" data-d-index="2">정답</button>
                    <button class="btn3 reset_btn" data-d-index="2" style="display: none">
                      다시 하기
                    </button>
                  </div>
                </div>
                <div
                  class="item item3"
                  data-val="2"
                  data-type="question"
                  data-locked="false"
                ></div>
              </div>
            </div>

            <div class="itemSec itemSec2">
              <div class="itemList itemList1">
                <div
                  class="item item4"
                  data-val="1"
                  data-type="answer"
                  data-locked="false"
                ></div>
                <div class="itemText" data-audio="078-26.mp3">
                  <span class="simhei">公交车</span>
                  <span class="gRegula">gõngjiãochç</span>
                </div>
              </div>
              <div class="itemList itemList2">
                <div
                  class="item item5"
                  data-val="0"
                  data-type="answer"
                  data-locked="false"
                ></div>
                <div class="itemText" data-audio="079-07.mp3">
                  <span class="simhei">自行车</span>
                  <span class="gRegula">zìxíngchç</span>
                </div>
              </div>
              <div class="itemList itemList3">
                <div
                  class="item item6"
                  data-val="2"
                  data-type="answer"
                  data-locked="false"
                ></div>
                <div class="itemText" data-audio="078-23.mp3">
                  <span class="simhei">火车</span>
                  <span class="gRegula">huôchç</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <figure class="numberingBox">
          <img src="./images/6_01_19/numbering.svg" alt="" />
        </figure>
      </div>

      <div class="popup_bg" style="display: none"></div>
      <div class="popup popup1 translate" data-popup="3" style="display: none">
        <div class="tag bmjua dp_flex">해석</div>
        <button class="close_btn"></button>
        <div class="popup_content">
          <ul class="left">
            <li class="popupItem popupItem1">
              <div class="item_text">
                <div>
                  <span class="FZKai">公交车</span>
                  <span class="suit">버스</span>
                </div>
                <span class="gRegula">gõngjiãochç</span>
              </div>
            </li>
            <li class="popupItem popupItem2">
              <div class="item_text">
                <div>
                  <span class="FZKai">自行车</span>
                  <span class="suit">자전거</span>
                </div>
                <span class="gRegula">zìxíngchç</span>
              </div>
            </li>
            <li class="popupItem popupItem3">
              <div class="item_text">
                <div>
                  <span class="FZKai">火车</span>
                  <span class="suit">기차</span>
                </div>
                <span class="gRegula">huôchç</span>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </body>
  <script type="text/javascript">
    const page = {
      //컨텐츠에 정답 확인이 존재하는지 여부
      isAnswer: true,
      // 단어장 노출 여부 판단. 이벤트 호출하지 않으면 노출하지 않음.
      isVocabulary: false,
      //정답 보기
      showAnswer: () => {
        $(".answer_btn").hide();
        $(".reset_btn").show();
        quesInfo.forEach((item, key) => {
          ansLiner[key] = new AnsLine(quesInfo[key].x, quesInfo[key].y, ansInfo[key].x, ansInfo[key].y, true, item.val);
        });
        testObj.forEach(function (item, key) {
          item.dataset.locked = "true";
        });
      },
      //정답 숨기기
      hideAnswer: () => {
        $(".answer_btn").show();
        $(".reset_btn").hide();
        quesInfo.forEach((item, key) => {
          ansLiner[key] = new AnsLine(0, 0, 0, 0, false, null);
        });
        testObj.forEach(function (item, key) {
          item.dataset.locked = "false";
        });
      },
      // 단어장 보기
      showVocabulary: () => {
        setPopup(7);
      },
    };
  </script>
  <script type="text/javascript">
    // 정답 버튼
    $(".answer_btn").on("click", function () {
      let index = $(this).data("dIndex");
      $(this).hide();
      $(`.reset_btn[data-d-index=${index}]`).show()

      ansLiner[index] = new AnsLine(
        quesInfo[index].x,
        quesInfo[index].y,
        ansInfo[index].x,
        ansInfo[index].y,
        true,
        index
      );
      testObj.forEach(function (item, key) {
        if (item.dataset.val == index) {
          item.dataset.locked = "true";
          // item.style.backgroundColor = "red"
        }
      });
    });
    // 다시 하기 버튼
    $(".reset_btn").on("click", function () {
      let index = $(this).data("dIndex");
      $(this).hide();
      $(".answer_btn").eq(index).show();
      $(".answer").eq(index).hide();
      ansLiner[index] = new AnsLine(0, 0, 0, 0, false, null);
      testObj.forEach(function (item, key) {
        if (item.dataset.val == index) {
          item.dataset.locked = "false";
          // item.style.backgroundColor = "black"
        }
      });
    });
  </script>
  <script crossorigin src="../common/lib/libBundle.js"></script>
  <script src="../common/js/script.js"></script>
  <script src="../common/js/rolePlayerCh.js"></script>
  <script src="../common/js/vocabularyBook.js"></script>

  <!-- 여기서부터 챔니스 캔버스 함수가 시작됨요 -->
  <script src="../common/js/DotToDotLCM.js"></script>
</html>
